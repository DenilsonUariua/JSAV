<!DOCTYPE html>
<html>
  <head>
    <title>Insertion Sort</title>
    <link rel="stylesheet" href="../css/JSAV.css" type="text/css" media="screen" title="no title" charset="utf-8" />
  </head>
  <body>
  <div id="container">
    <div class="controls"></div>
    <p class="output line"></p>
  </div>
    <script src="http://code.jquery.com/jquery-1.6.1.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.min.js"></script>
    <script src="../lib/jquery.transform.light.js"></script>
    <script src="../lib/raphael.js"></script>
    <script src="../build/jsav.js"></script>
    <script>
    var c1;
    var av = new JSAV("container");
    var arr = av.ds.array([30, 34, 27, 90, 12, 11, 56, 89], {indexed: true});
    jQuery.fx.off = false;
    $(function() { 
      $(".index").click(function() {
        //find the index of the clicked item
        var pos = $(this).parent().find(".index").index(this);
        if (!c1 && c1 !== 0) { // if first click
          c1 = pos
        } else { // second click will swap
          av._redo = []; // clear the forward stack, should add a method for this in lib
          arr.swap(c1, pos, {});
          av.forward();
          c1 = null;
        }
      });
    });
    av.recorded();
    </script>
  </body>
</html>